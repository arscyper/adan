(function(e,t,n,r){"use strict";function l(e,t,n){return setTimeout(m(e,n),t)}function c(e,t,n){if(Array.isArray(e)){h(e,n[t],n);return true}return false}function h(e,t,n){var i,s;if(!e){return}if(e.forEach){e.forEach(t,n)}else if(e.length!==r){for(i=0,s=e.length;i<s;i++){t.call(n,e[i],i,e)}}else{for(i in e){e.hasOwnProperty(i)&&t.call(n,e[i],i,e)}}}function p(e,t,n){var i=Object.keys(t);for(var s=0,o=i.length;s<o;s++){if(!n||n&&e[i[s]]===r){e[i[s]]=t[i[s]]}}return e}function d(e,t){return p(e,t,true)}function v(e,t,n){var r=t.prototype,i;i=e.prototype=Object.create(r);i.constructor=e;i._super=r;if(n){p(i,n)}}function m(e,t){return function(){return e.apply(t,arguments)}}function g(e,t){if(typeof e==o){return e.apply(t?t[0]||r:r,t)}return e}function y(e,t){return e===r?t:e}function b(e,t,n){h(x(t),function(t){e.addEventListener(t,n,false)})}function w(e,t,n){h(x(t),function(t){e.removeEventListener(t,n,false)})}function E(e,t){while(e){if(e==t){return true}e=e.parentNode}return false}function S(e,t){return e.indexOf(t)>-1}function x(e){return e.trim().split(/\s+/g)}function T(e,t,n){if(e.indexOf&&!n){return e.indexOf(t)}else{for(var r=0,i=e.length;r<i;r++){if(n&&e[r][n]==t||!n&&e[r]===t){return r}}return-1}}function N(e){return Array.prototype.slice.call(e,0)}function C(e,t,n){var r=[];var i=[];for(var s=0,o=e.length;s<o;s++){var u=t?e[s][t]:e[s];if(T(i,u)<0){r.push(e[s])}i[s]=u}if(n){if(!t){r=r.sort()}else{r=r.sort(function(n,r){return n[t]>r[t]})}}return r}function k(e,t){var n,s;var o=t[0].toUpperCase()+t.slice(1);for(var u=0,a=i.length;u<a;u++){n=i[u];s=n?n+o:t;if(s in e){return s}}return r}function A(){return L++}function Z(t,n){var r=this;this.manager=t;this.callback=n;this.element=t.element;this.target=t.options.inputTarget;this.domHandler=function(e){if(g(t.options.enable,[t])){r.handler(e)}};this.evEl&&b(this.element,this.evEl,this.domHandler);this.evTarget&&b(this.target,this.evTarget,this.domHandler);this.evWin&&b(e,this.evWin,this.domHandler)}function et(e){var t;if(_){t=Et}else if(D){t=Tt}else if(!M){t=mt}else{t=Ct}return new t(e,tt)}function tt(e,t,n){var r=n.pointers.length;var i=n.changedPointers.length;var s=t&I&&r-i===0;var o=t&(R|U)&&r-i===0;n.isFirst=!!s;n.isFinal=!!o;if(s){e.session={}}n.eventType=t;nt(e,n);e.emit("hammer.input",n);e.recognize(n);e.session.prevInput=n}function nt(e,t){var n=e.session;var r=t.pointers;var i=r.length;if(!n.firstInput){n.firstInput=st(t)}if(i>1&&!n.firstMultiple){n.firstMultiple=st(t)}else if(i===1){n.firstMultiple=false}var s=n.firstInput;var o=n.firstMultiple;var u=o?o.center:s.center;var a=t.center=ot(r);t.timeStamp=f();t.deltaTime=t.timeStamp-s.timeStamp;t.angle=lt(u,a);t.distance=ft(u,a);rt(n,t);t.offsetDirection=at(t.deltaX,t.deltaY);t.scale=o?ht(o.pointers,r):1;t.rotation=o?ct(o.pointers,r):0;it(n,t);var l=e.element;if(E(t.srcEvent.target,l)){l=t.srcEvent.target}t.target=l}function rt(e,t){var n=t.center;var r=e.offsetDelta||{};var i=e.prevDelta||{};var s=e.prevInput||{};if(t.eventType===I||s.eventType===R){i=e.prevDelta={x:s.deltaX||0,y:s.deltaY||0};r=e.offsetDelta={x:n.x,y:n.y}}t.deltaX=i.x+(n.x-r.x);t.deltaY=i.y+(n.y-r.y)}function it(e,t){var n=e.lastInterval||t,i=t.timeStamp-n.timeStamp,s,o,u,f;if(t.eventType!=U&&(i>F||n.velocity===r)){var l=n.deltaX-t.deltaX;var c=n.deltaY-t.deltaY;var h=ut(i,l,c);o=h.x;u=h.y;s=a(h.x)>a(h.y)?h.x:h.y;f=at(l,c);e.lastInterval=t}else{s=n.velocity;o=n.velocityX;u=n.velocityY;f=n.direction}t.velocity=s;t.velocityX=o;t.velocityY=u;t.direction=f}function st(e){var t=[];for(var n=0;n<e.pointers.length;n++){t[n]={clientX:u(e.pointers[n].clientX),clientY:u(e.pointers[n].clientY)}}return{timeStamp:f(),pointers:t,center:ot(t),deltaX:e.deltaX,deltaY:e.deltaY}}function ot(e){var t=e.length;if(t===1){return{x:u(e[0].clientX),y:u(e[0].clientY)}}var n=0,r=0;for(var i=0;i<t;i++){n+=e[i].clientX;r+=e[i].clientY}return{x:u(n/t),y:u(r/t)}}function ut(e,t,n){return{x:t/e||0,y:n/e||0}}function at(e,t){if(e===t){return z}if(a(e)>=a(t)){return e>0?W:X}return t>0?V:$}function ft(e,t,n){if(!n){n=G}var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return Math.sqrt(r*r+i*i)}function lt(e,t,n){if(!n){n=G}var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return Math.atan2(i,r)*180/Math.PI}function ct(e,t){return lt(t[1],t[0],Y)-lt(e[1],e[0],Y)}function ht(e,t){return ft(t[0],t[1],Y)/ft(e[0],e[1],Y)}function mt(){this.evEl=dt;this.evWin=vt;this.allow=true;this.pressed=false;Z.apply(this,arguments)}function Et(){this.evEl=bt;this.evWin=wt;Z.apply(this,arguments);this.store=this.manager.session.pointerEvents=[]}function Tt(){this.evTarget=xt;this.targetIds={};Z.apply(this,arguments)}function Nt(e,t){var n=N(e.touches);var r=this.targetIds;if(t&(I|q)&&n.length===1){r[n[0].identifier]=true;return[n,n]}var i,s;var o=N(e.targetTouches);var u=N(e.changedTouches);var a=[];if(t===I){for(i=0,s=o.length;i<s;i++){r[o[i].identifier]=true}}for(i=0,s=u.length;i<s;i++){if(r[u[i].identifier]){a.push(u[i])}if(t&(R|U)){delete r[u[i].identifier]}}if(!a.length){return}return[C(o.concat(a),"identifier",true),a]}function Ct(){Z.apply(this,arguments);var e=m(this.handler,this);this.touch=new Tt(this.manager,e);this.mouse=new mt(this.manager,e)}function Ht(e,t){this.manager=e;this.set(t)}function Bt(e){if(S(e,_t)){return _t}var t=S(e,Dt);var n=S(e,Pt);if(t&&n){return Dt+" "+Pt}if(t||n){return t?Dt:Pt}if(S(e,Mt)){return Mt}return Ot}function Wt(e){this.id=A();this.manager=null;this.options=d(e||{},this.defaults);this.options.enable=y(this.options.enable,true);this.state=jt;this.simultaneous={};this.requireFail=[]}function Xt(e){if(e&Ut){return"cancel"}else if(e&qt){return"end"}else if(e&It){return"move"}else if(e&Ft){return"start"}return""}function Vt(e){if(e==$){return"down"}else if(e==V){return"up"}else if(e==W){return"left"}else if(e==X){return"right"}return""}function $t(e,t){var n=t.manager;if(n){return n.get(e)}return e}function Jt(){Wt.apply(this,arguments)}function Kt(){Jt.apply(this,arguments);this.pX=null;this.pY=null}function Qt(){Jt.apply(this,arguments)}function Gt(){Wt.apply(this,arguments);this._timer=null;this._input=null}function Yt(){Jt.apply(this,arguments)}function Zt(){Jt.apply(this,arguments)}function en(){Wt.apply(this,arguments);this.pTime=false;this.pCenter=false;this._timer=null;this._input=null;this.count=0}function tn(e,t){t=t||{};t.recognizers=y(t.recognizers,tn.defaults.preset);return new sn(e,t)}function sn(e,t){t=t||{};this.options=d(t,tn.defaults);this.options.inputTarget=this.options.inputTarget||e;this.handlers={};this.session={};this.recognizers=[];this.element=e;this.input=et(this);this.touchAction=new Ht(this,this.options.touchAction);on(this,true);h(t.recognizers,function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]);e[3]&&t.requireFailure(e[2])},this)}function on(e,t){var n=e.element;h(e.options.cssProps,function(e,r){n.style[k(n.style,r)]=t?e:""})}function un(e,n){var r=t.createEvent("Event");r.initEvent(e,true,true);r.gesture=n;n.target.dispatchEvent(r)}var i=["","webkit","moz","MS","ms","o"];var s=t.createElement("div");var o="function";var u=Math.round;var a=Math.abs;var f=Date.now;var L=1;var O=/mobile|tablet|ip(ad|hone|od)|android/i;var M="ontouchstart"in e;var _=k(e,"PointerEvent")!==r;var D=M&&O.test(navigator.userAgent);var P="touch";var H="pen";var B="mouse";var j="kinect";var F=25;var I=1;var q=2;var R=4;var U=8;var z=1;var W=2;var X=4;var V=8;var $=16;var J=W|X;var K=V|$;var Q=J|K;var G=["x","y"];var Y=["clientX","clientY"];Z.prototype={handler:function(){},destroy:function(){this.evEl&&w(this.element,this.evEl,this.domHandler);this.evTarget&&w(this.target,this.evTarget,this.domHandler);this.evWin&&w(e,this.evWin,this.domHandler)}};var pt={mousedown:I,mousemove:q,mouseup:R};var dt="mousedown";var vt="mousemove mouseup";v(mt,Z,{handler:function(t){var n=pt[t.type];if(n&I&&t.button===0){this.pressed=true}if(n&q&&t.which!==1){n=R}if(!this.pressed||!this.allow){return}if(n&R){this.pressed=false}this.callback(this.manager,n,{pointers:[t],changedPointers:[t],pointerType:B,srcEvent:t})}});var gt={pointerdown:I,pointermove:q,pointerup:R,pointercancel:U,pointerout:U};var yt={2:P,3:H,4:B,5:j};var bt="pointerdown";var wt="pointermove pointerup pointercancel";if(e.MSPointerEvent){bt="MSPointerDown";wt="MSPointerMove MSPointerUp MSPointerCancel"}v(Et,Z,{handler:function(t){var n=this.store;var r=false;var i=t.type.toLowerCase().replace("ms","");var s=gt[i];var o=yt[t.pointerType]||t.pointerType;var u=o==P;if(s&I&&(t.button===0||u)){n.push(t)}else if(s&(R|U)){r=true}var a=T(n,t.pointerId,"pointerId");if(a<0){return}n[a]=t;this.callback(this.manager,s,{pointers:n,changedPointers:[t],pointerType:o,srcEvent:t});if(r){n.splice(a,1)}}});var St={touchstart:I,touchmove:q,touchend:R,touchcancel:U};var xt="touchstart touchmove touchend touchcancel";v(Tt,Z,{handler:function(t){var n=St[t.type];var r=Nt.call(this,t,n);if(!r){return}this.callback(this.manager,n,{pointers:r[0],changedPointers:r[1],pointerType:P,srcEvent:t})}});v(Ct,Z,{handler:function(t,n,r){var i=r.pointerType==P,s=r.pointerType==B;if(i){this.mouse.allow=false}else if(s&&!this.mouse.allow){return}if(n&(R|U)){this.mouse.allow=true}this.callback(t,n,r)},destroy:function(){this.touch.destroy();this.mouse.destroy()}});var kt=k(s.style,"touchAction");var Lt=kt!==r;var At="compute";var Ot="auto";var Mt="manipulation";var _t="none";var Dt="pan-x";var Pt="pan-y";Ht.prototype={set:function(e){if(e==At){e=this.compute()}if(Lt){this.manager.element.style[kt]=e}this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];h(this.manager.recognizers,function(t){if(g(t.options.enable,[t])){e=e.concat(t.getTouchAction())}});return Bt(e.join(" "))},preventDefaults:function(e){if(Lt){return}var t=e.srcEvent;var n=e.offsetDirection;if(this.manager.session.prevented){t.preventDefault();return}var r=this.actions;var i=S(r,_t);var s=S(r,Pt);var o=S(r,Dt);if(i||s&&o||s&&n&J||o&&n&K){return this.preventSrc(t)}},preventSrc:function(e){this.manager.session.prevented=true;e.preventDefault()}};var jt=1;var Ft=2;var It=4;var qt=8;var Rt=qt;var Ut=16;var zt=32;Wt.prototype={defaults:{},set:function(e){p(this.options,e);this.manager&&this.manager.touchAction.update();return this},recognizeWith:function(e){if(c(e,"recognizeWith",this)){return this}var t=this.simultaneous;e=$t(e,this);if(!t[e.id]){t[e.id]=e;e.recognizeWith(this)}return this},dropRecognizeWith:function(e){if(c(e,"dropRecognizeWith",this)){return this}e=$t(e,this);delete this.simultaneous[e.id];return this},requireFailure:function(e){if(c(e,"requireFailure",this)){return this}var t=this.requireFail;e=$t(e,this);if(T(t,e)===-1){t.push(e);e.requireFailure(this)}return this},dropRequireFailure:function(e){if(c(e,"dropRequireFailure",this)){return this}e=$t(e,this);var t=T(this.requireFail,e);if(t>-1){this.requireFail.splice(t,1)}return this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){function r(r){t.manager.emit(t.options.event+(r?Xt(n):""),e)}var t=this;var n=this.state;if(n<qt){r(true)}r();if(n>=qt){r(true)}},tryEmit:function(e){if(this.canEmit()){return this.emit(e)}this.state=zt},canEmit:function(){for(var e=0;e<this.requireFail.length;e++){if(!(this.requireFail[e].state&(zt|jt))){return false}}return true},recognize:function(e){var t=p({},e);if(!g(this.options.enable,[this,t])){this.reset();this.state=zt;return}if(this.state&(Rt|Ut|zt)){this.state=jt}this.state=this.process(t);if(this.state&(Ft|It|qt|Ut)){this.tryEmit(t)}},process:function(e){},getTouchAction:function(){},reset:function(){}};v(Jt,Wt,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return t===0||e.pointers.length===t},process:function(e){var t=this.state;var n=e.eventType;var r=t&(Ft|It);var i=this.attrTest(e);if(r&&(n&U||!i)){return t|Ut}else if(r||i){if(n&R){return t|qt}else if(!(t&Ft)){return Ft}return t|It}return zt}});v(Kt,Jt,{defaults:{event:"pan",threshold:10,pointers:1,direction:Q},getTouchAction:function(){var e=this.options.direction;if(e===Q){return[_t]}var t=[];if(e&J){t.push(Pt)}if(e&K){t.push(Dt)}return t},directionTest:function(e){var t=this.options;var n=true;var r=e.distance;var i=e.direction;var s=e.deltaX;var o=e.deltaY;if(!(i&t.direction)){if(t.direction&J){i=s===0?z:s<0?W:X;n=s!=this.pX;r=Math.abs(e.deltaX)}else{i=o===0?z:o<0?V:$;n=o!=this.pY;r=Math.abs(e.deltaY)}}e.direction=i;return n&&r>t.threshold&&i&t.direction},attrTest:function(e){return Jt.prototype.attrTest.call(this,e)&&(this.state&Ft||!(this.state&Ft)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX;this.pY=e.deltaY;var t=Vt(e.direction);if(t){this.manager.emit(this.options.event+t,e)}this._super.emit.call(this,e)}});v(Qt,Jt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[_t]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||this.state&Ft)},emit:function(e){this._super.emit.call(this,e);if(e.scale!==1){var t=e.scale<1?"in":"out";this.manager.emit(this.options.event+t,e)}}});v(Gt,Wt,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return[Ot]},process:function(e){var t=this.options;var n=e.pointers.length===t.pointers;var r=e.distance<t.threshold;var i=e.deltaTime>t.time;this._input=e;if(!r||!n||e.eventType&(R|U)&&!i){this.reset()}else if(e.eventType&I){this.reset();this._timer=l(function(){this.state=Rt;this.tryEmit()},t.time,this)}else if(e.eventType&R){return Rt}return zt},reset:function(){clearTimeout(this._timer)},emit:function(e){if(this.state!==Rt){return}if(e&&e.eventType&R){this.manager.emit(this.options.event+"up",e)}else{this._input.timeStamp=f();this.manager.emit(this.options.event,this._input)}}});v(Yt,Jt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[_t]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||this.state&Ft)}});v(Zt,Jt,{defaults:{event:"swipe",threshold:10,velocity:.65,direction:J|K,pointers:1},getTouchAction:function(){return Kt.prototype.getTouchAction.call(this)},attrTest:function(e){var t=this.options.direction;var n;if(t&(J|K)){n=e.velocity}else if(t&J){n=e.velocityX}else if(t&K){n=e.velocityY}return this._super.attrTest.call(this,e)&&t&e.direction&&a(n)>this.options.velocity&&e.eventType&R},emit:function(e){var t=Vt(e.direction);if(t){this.manager.emit(this.options.event+t,e)}this.manager.emit(this.options.event,e)}});v(en,Wt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:2,posThreshold:10},getTouchAction:function(){return[Mt]},process:function(e){var t=this.options;var n=e.pointers.length===t.pointers;var r=e.distance<t.threshold;var i=e.deltaTime<t.time;this.reset();if(e.eventType&I&&this.count===0){return this.failTimeout()}if(r&&i&&n){if(e.eventType!=R){return this.failTimeout()}var s=this.pTime?e.timeStamp-this.pTime<t.interval:true;var o=!this.pCenter||ft(this.pCenter,e.center)<t.posThreshold;this.pTime=e.timeStamp;this.pCenter=e.center;if(!o||!s){this.count=1}else{this.count+=1}this._input=e;var u=this.count%t.taps;if(u===0){if(!this.hasRequireFailures()){return Rt}else{this._timer=l(function(){this.state=Rt;this.tryEmit()},t.interval,this);return Ft}}}return zt},failTimeout:function(){this._timer=l(function(){this.state=zt},this.options.interval,this);return zt},reset:function(){clearTimeout(this._timer)},emit:function(){if(this.state==Rt){this._input.tapCount=this.count;this.manager.emit(this.options.event,this._input)}}});tn.VERSION="2.0.2";tn.defaults={domEvents:false,touchAction:At,inputTarget:null,enable:true,preset:[[Yt,{enable:false}],[Qt,{enable:false},["rotate"]],[Zt,{direction:J}],[Kt,{direction:J},["swipe"]],[en],[en,{event:"doubletap",taps:2},["tap"]],[Gt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var nn=1;var rn=2;sn.prototype={set:function(e){p(this.options,e);return this},stop:function(e){this.session.stopped=e?rn:nn},recognize:function(e){var t=this.session;if(t.stopped){return}this.touchAction.preventDefaults(e);var n;var r=this.recognizers;var i=t.curRecognizer;if(!i||i&&i.state&Rt){i=t.curRecognizer=null}for(var s=0,o=r.length;s<o;s++){n=r[s];if(t.stopped!==rn&&(!i||n==i||n.canRecognizeWith(i))){n.recognize(e)}else{n.reset()}if(!i&&n.state&(Ft|It|qt)){i=t.curRecognizer=n}}},get:function(e){if(e instanceof Wt){return e}var t=this.recognizers;for(var n=0;n<t.length;n++){if(t[n].options.event==e){return t[n]}}return null},add:function(e){if(c(e,"add",this)){return this}var t=this.get(e.options.event);if(t){this.remove(t)}this.recognizers.push(e);e.manager=this;this.touchAction.update();return e},remove:function(e){if(c(e,"remove",this)){return this}var t=this.recognizers;e=this.get(e);t.splice(T(t,e),1);this.touchAction.update();return this},on:function(e,t){var n=this.handlers;h(x(e),function(e){n[e]=n[e]||[];n[e].push(t)});return this},off:function(e,t){var n=this.handlers;h(x(e),function(e){if(!t){delete n[e]}else{n[e].splice(T(n[e],t),1)}});return this},emit:function(e,t){if(this.options.domEvents){un(e,t)}var n=this.handlers[e]&&this.handlers[e].slice();if(!n||!n.length){return}t.type=e;t.preventDefault=function(){t.srcEvent.preventDefault()};for(var r=0,i=n.length;r<i;r++){n[r](t)}},destroy:function(){this.element&&on(this,false);this.handlers={};this.session={};this.input.destroy();this.element=null}};p(tn,{INPUT_START:I,INPUT_MOVE:q,INPUT_END:R,INPUT_CANCEL:U,STATE_POSSIBLE:jt,STATE_BEGAN:Ft,STATE_CHANGED:It,STATE_ENDED:qt,STATE_RECOGNIZED:Rt,STATE_CANCELLED:Ut,STATE_FAILED:zt,DIRECTION_NONE:z,DIRECTION_LEFT:W,DIRECTION_RIGHT:X,DIRECTION_UP:V,DIRECTION_DOWN:$,DIRECTION_HORIZONTAL:J,DIRECTION_VERTICAL:K,DIRECTION_ALL:Q,Manager:sn,Input:Z,TouchAction:Ht,Recognizer:Wt,AttrRecognizer:Jt,Tap:en,Pan:Kt,Swipe:Zt,Pinch:Qt,Rotate:Yt,Press:Gt,on:b,off:w,each:h,merge:d,extend:p,inherit:v,bindFn:m,prefixed:k});if(typeof define==o&&define.amd){define(function(){return tn})}else if(typeof module!="undefined"&&module.exports){module.exports=tn}else{e[n]=tn}})(window,document,"Hammer")